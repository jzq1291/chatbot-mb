-- 清空现有数据
DELETE FROM chatbotMb.knowledge_base;

-- 重置序列
ALTER SEQUENCE chatbotMb.knowledge_base_id_seq RESTART WITH 1;

-- 插入技术文档数据
INSERT INTO chatbotMb.knowledge_base (title, content, category, created_at, updated_at) VALUES
('API令牌管理指南', 
'# API令牌管理指南

API令牌是用于身份验证的安全凭证，允许应用程序和脚本安全地访问我们的API。从2024年12月15日起，所有新创建的API令牌默认有效期为一年。当您创建API令牌时，可以设置从1天到1年的有效期。在2025年3月13日之后，2024年12月15日之前创建的API令牌将在一年的时间内过期。这些API令牌将在2026年3月14日至5月12日期间过期。

您可以使用API令牌来验证脚本与Atlassian云应用程序的身份。您从Atlassian账户生成令牌，然后将其复制并粘贴到脚本中。如果您使用两步验证进行身份验证，您的脚本需要使用REST API令牌进行身份验证。

## API令牌的主要用途

API令牌的主要用途是允许脚本使用HTTP基本身份验证访问Atlassian云应用程序的REST API。根据您使用的HTTP库的详细信息，您可以用令牌替换密码。例如，使用curl时，您可以这样做：

```bash
curl -v https://mysite.atlassian.net --user me@example.com:my-api-token
```

对于Jira和Confluence的API令牌，URL格式如下：

```bash
curl -v https://api.atlassian.com/ex/jira/{cloudId} --user me@example.com:my-api-token
curl -v https://api.atlassian.com/ex/confluence/{cloudId} --user me@example.com:my-api-token
```

在这个例子中，me@example.com是您用于创建令牌的Atlassian账户的电子邮件地址。

我们使用可变长度的API令牌而不是固定长度，以确保令牌更安全和可靠。如果您的脚本依赖于固定长度的API令牌，请检查它是否可以处理可变长度。

## API令牌的权限范围

您可以为API令牌指定允许执行的操作 - 这些称为范围。API令牌的范围定义了访问Jira和Confluence应用程序中数据的级别。范围通过允许您为API令牌定义特定权限来增强安全性。

当您从Atlassian账户创建API令牌时，您可以选择API令牌的范围。您可以创建带范围或不带范围的API令牌。我们建议您创建带范围的API令牌，因为它更安全。

## 创建带范围的API令牌

当您为API令牌选择范围时，您授予令牌执行某些操作的权限。您可以允许API在Jira和Confluence中查看、写入和删除内容。如果您需要使用当前不支持带范围API令牌的应用程序，您可以创建不带范围的令牌。

要创建带范围的API令牌：

1. 登录到 https://id.atlassian.com/manage-profile/security/api-tokens
2. 选择"创建带范围的API令牌"
3. 为您的API令牌指定一个描述其用途的名称
4. 为API令牌选择过期日期（1到365天）
5. 选择您希望API令牌访问的应用程序
6. 选择范围以确定API令牌在Jira或Confluence中可以执行的操作
7. 选择"创建"
8. 选择"复制到剪贴板"，然后将令牌粘贴到您的脚本中，或将其保存在安全的地方

完成此步骤后，您将无法恢复API令牌。我们建议将API令牌保存在密码管理器中。

## 创建API令牌

具有无限生命周期的API令牌会带来数据安全风险。为了提高数据安全性，默认情况下我们将API令牌设置为一年后过期。创建API令牌时，您可以将过期日期设置为1天到1年。

从您的Atlassian账户创建API令牌：

1. 登录到 https://id.atlassian.com/manage-profile/security/api-tokens
2. 选择"创建API令牌"
3. 为您的API令牌指定一个描述其功能的名称
4. 为API令牌选择过期日期（1到365天）
5. 选择"创建"
6. 选择"复制到剪贴板"，然后将令牌粘贴到您的脚本中，或将其保存在安全的地方

完成此步骤后，您将无法恢复API令牌。我们建议您将API令牌保存在密码管理器中。

## 撤销API令牌

当您撤销令牌时，它将不再工作，我们会从您的账户中永久删除它。如果您撤销现有的API令牌，您可以用新令牌替换它。

要撤销API令牌：

1. 登录到 https://id.atlassian.com/manage-profile/security/api-tokens
2. 选择要撤销的API令牌的"撤销"
3. 要撤销账户的所有API令牌，选择"撤销所有API令牌"',
'API文档', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),

('身份认证最佳实践', 
'# 身份认证最佳实践

身份认证是保护系统和数据安全的第一道防线。本文档详细介绍了我们的身份认证系统的最佳实践和安全标准。

## 多因素认证(MFA)

多因素认证是提高账户安全性的重要措施。我们支持多种认证方式，包括短信验证码、邮箱验证码、认证器应用和生物识别。启用MFA后，即使攻击者获取了您的密码，也无法访问您的账户。

### 认证器应用

我们推荐使用认证器应用作为主要的MFA方式。认证器应用生成基于时间的一次性密码(TOTP)，这些密码每30秒更新一次。即使攻击者获取了您的密码和手机号码，没有认证器应用也无法登录您的账户。

### 生物识别

对于移动设备，我们支持指纹和面部识别等生物识别方式。这些方式提供了便捷且安全的认证体验。生物识别数据存储在设备的安全区域，不会上传到服务器。

## 密码策略

我们实施了严格的密码策略，以确保账户安全。

### 密码要求

- 最小长度：12位
- 必须包含大小写字母
- 必须包含数字
- 必须包含特殊字符
- 不能包含常见的密码模式
- 不能包含个人信息

### 密码管理

- 90天强制更换密码
- 不能使用最近5次使用过的密码
- 密码错误5次后账户将被锁定
- 锁定30分钟后自动解锁
- 可以通过验证邮箱或手机号立即解锁

## 会话管理

会话管理是确保用户安全的重要环节。我们实施了以下措施：

### 会话超时

- 普通会话：30分钟无操作后自动登出
- 管理员会话：15分钟无操作后自动登出
- 敏感操作：每次操作都需要重新验证
- 可以设置"记住我"选项延长会话时间

### 并发登录

- 同一账号最多支持3个并发会话
- 新登录会提示已有会话
- 可以查看所有活动会话
- 可以远程注销其他会话
- 异地登录需要额外验证

## 安全建议

1. 始终启用多因素认证
2. 使用密码管理器生成和存储强密码
3. 定期检查活动会话
4. 及时更新安全信息
5. 不要在不信任的设备上登录
6. 发现异常及时修改密码

## 常见问题

### 忘记密码怎么办？

如果您忘记了密码，可以通过以下方式重置：
1. 点击登录页面的"忘记密码"
2. 输入注册邮箱或手机号
3. 获取验证码
4. 设置新密码
5. 使用新密码登录

### 账户被锁定怎么办？

如果您的账户被锁定，可以：
1. 等待30分钟自动解锁
2. 通过验证邮箱或手机号立即解锁
3. 联系客服协助解锁

### 如何保护账户安全？

1. 启用多因素认证
2. 使用强密码
3. 定期更换密码
4. 及时更新安全信息
5. 定期检查活动会话
6. 发现异常及时处理',
'安全指南', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),

('数据库管理指南', 
'# 数据库管理指南

数据库是系统的核心组件，良好的数据库管理对于系统的稳定运行至关重要。本文档详细介绍了数据库管理的最佳实践和操作指南。

## 数据库备份

数据库备份是数据安全的重要保障。我们支持多种备份方式，确保数据的安全性和可恢复性。

### 自动备份

系统每天凌晨2点自动执行全量备份，备份文件保留30天。备份过程采用增量备份策略，减少对系统性能的影响。备份文件会自动上传到远程存储，确保数据安全。

### 手动备份

除了自动备份外，您还可以随时执行手动备份：

1. 登录管理控制台
2. 进入"数据管理" > "备份管理"
3. 选择"立即备份"
4. 等待备份完成
5. 下载备份文件或查看备份状态

### 备份恢复

当需要恢复数据时，请按以下步骤操作：

1. 进入"数据管理" > "备份管理"
2. 选择要恢复的备份文件
3. 确认恢复时间点
4. 选择恢复范围（全量/部分）
5. 执行恢复操作
6. 验证数据完整性

## 性能优化

数据库性能直接影响系统的响应速度。我们提供了多种优化方案：

### 索引优化

1. 定期分析索引使用情况
2. 删除未使用的索引
3. 优化索引结构
4. 监控索引大小

### 查询优化

1. 使用EXPLAIN分析查询计划
2. 优化JOIN操作
3. 避免全表扫描
4. 使用适当的索引

### 配置优化

1. 调整内存参数
2. 优化连接池设置
3. 配置合适的缓存
4. 调整并发参数

## 监控告警

我们提供了完整的数据库监控和告警机制：

### 性能监控

- CPU使用率
- 内存占用
- 磁盘I/O
- 连接数
- 查询响应时间
- 缓存命中率

### 告警设置

1. 设置告警阈值
2. 配置通知方式
3. 设置告警级别
4. 定义告警规则

### 日志管理

1. 错误日志
2. 慢查询日志
3. 审计日志
4. 操作日志

## 安全措施

数据库安全是系统安全的重要组成部分：

### 访问控制

1. 最小权限原则
2. 角色管理
3. 密码策略
4. 网络隔离

### 数据加密

1. 传输加密
2. 存储加密
3. 备份加密
4. 密钥管理

### 审计日志

1. 操作审计
2. 访问记录
3. 变更追踪
4. 安全事件

## 常见问题

### 数据库连接失败

可能的原因：
1. 网络连接问题
2. 认证失败
3. 连接数超限
4. 服务未启动

解决方案：
1. 检查网络连接
2. 验证认证信息
3. 调整连接池设置
4. 重启数据库服务

### 性能问题

可能的原因：
1. 索引失效
2. 查询语句不当
3. 资源不足
4. 配置不合理

解决方案：
1. 重建索引
2. 优化查询
3. 增加资源
4. 调整配置

### 数据恢复

可能的原因：
1. 误操作
2. 系统故障
3. 数据损坏
4. 备份失效

解决方案：
1. 使用备份恢复
2. 检查日志
3. 修复数据
4. 验证完整性',
'数据库', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP),

('系统监控指南', 
'# 系统监控指南

系统监控是确保系统稳定运行的重要手段。本文档详细介绍了我们的监控系统的功能和使用方法。

## 监控指标

我们提供了全面的系统监控指标，帮助您实时了解系统状态。

### 系统资源

1. CPU使用率
   - 总体使用率
   - 每个核心使用率
   - 进程使用率
   - 负载情况

2. 内存使用
   - 总内存
   - 已用内存
   - 可用内存
   - 交换空间

3. 磁盘使用
   - 总容量
   - 已用空间
   - 可用空间
   - I/O性能

4. 网络流量
   - 入站流量
   - 出站流量
   - 连接数
   - 带宽使用

### 应用性能

1. 响应时间
   - 平均响应时间
   - 最大响应时间
   - 响应时间分布
   - 超时情况

2. 并发用户
   - 在线用户数
   - 活跃用户数
   - 并发请求数
   - 用户分布

3. 错误率
   - 总体错误率
   - 各类型错误
   - 错误分布
   - 错误趋势

4. 资源使用
   - 线程数
   - 连接池
   - 缓存使用
   - 队列长度

## 告警配置

我们提供了灵活的告警配置机制，帮助您及时发现和处理问题。

### 告警级别

1. 严重
   - 立即通知
   - 电话告警
   - 短信通知
   - 邮件通知

2. 警告
   - 1小时内处理
   - 短信通知
   - 邮件通知
   - 系统通知

3. 提示
   - 24小时内处理
   - 邮件通知
   - 系统通知
   - 日志记录

### 通知方式

1. 短信通知
   - 支持多个手机号
   - 可设置通知时间
   - 支持重试机制
   - 记录发送状态

2. 邮件通知
   - 支持多个邮箱
   - 可设置通知模板
   - 支持附件
   - 记录发送状态

3. 系统通知
   - 控制台通知
   - 消息中心
   - 移动端推送
   - 桌面通知

4. 电话告警
   - 自动拨号
   - 语音播报
   - 确认机制
   - 重试策略

## 日志管理

我们提供了完整的日志管理功能，帮助您追踪和分析系统运行情况。

### 日志类型

1. 系统日志
   - 启动日志
   - 运行日志
   - 错误日志
   - 安全日志

2. 应用日志
   - 访问日志
   - 业务日志
   - 错误日志
   - 调试日志

3. 安全日志
   - 登录日志
   - 操作日志
   - 审计日志
   - 告警日志

4. 性能日志
   - 响应时间
   - 资源使用
   - 并发情况
   - 瓶颈分析

### 日志存储

1. 存储策略
   - 分级存储
   - 压缩归档
   - 定期清理
   - 备份恢复

2. 存储周期
   - 错误日志：90天
   - 访问日志：30天
   - 审计日志：365天
   - 调试日志：7天

## 常见问题

### 监控数据不准确

可能的原因：
1. 采集间隔设置不当
2. 采集器故障
3. 网络延迟
4. 数据存储问题

解决方案：
1. 调整采集间隔
2. 检查采集器状态
3. 优化网络连接
4. 检查存储系统

### 告警不及时

可能的原因：
1. 告警规则配置不当
2. 通知渠道故障
3. 告警级别设置不当
4. 告警抑制

解决方案：
1. 检查告警规则
2. 测试通知渠道
3. 调整告警级别
4. 检查告警抑制

### 日志查询慢

可能的原因：
1. 日志量过大
2. 查询条件不当
3. 索引失效
4. 存储系统性能问题

解决方案：
1. 优化存储策略
2. 优化查询条件
3. 重建索引
4. 升级存储系统',
'运维指南', CURRENT_TIMESTAMP, CURRENT_TIMESTAMP);

-- 继续插入更多数据...
-- 这里可以继续添加更多类似的技术文档
-- 建议按照不同的技术领域和主题组织内容 